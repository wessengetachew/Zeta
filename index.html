<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gap-Class Decomposition of Œ∂(2) ‚Äî Wessen Getachew</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&family=JetBrains+Mono:wght@300;400;500&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  /* ‚îÄ‚îÄ Light mode (default) ‚îÄ‚îÄ */
  :root {
    --ink:     #1a1814;
    --ink2:    #3d3830;
    --ink3:    #6b6358;
    --paper:   #f7f4ef;
    --cream:   #ede9e2;
    --rule:    #c8c0b4;
    --gold:    #8b6914;
    --goldl:   #b8960f;
    --red:     #8b1a1a;
    --blue:    #1a3a6b;
    --green:   #1a4a2a;
    --def-bg:  #f2f4f8;
    --thm-bg:  #f2f6f3;
    --w: 72ch;
  }

  /* ‚îÄ‚îÄ Dark mode ‚îÄ‚îÄ */
  html.dark {
    --ink:     #e0d9ce;
    --ink2:    #a89f94;
    --ink3:    #6e665c;
    --paper:   #131210;
    --cream:   #1c1a17;
    --rule:    #2a2824;
    --gold:    #c9a23a;
    --goldl:   #e0bc50;
    --red:     #c05050;
    --blue:    #6b9fd4;
    --green:   #4a9a60;
    --def-bg:  #14161e;
    --thm-bg:  #131a15;
  }

  html, body, .abstract, .math-block, .definition, .theorem, .remark,
  .data-table, canvas, .bar-track {
    transition: background 0.3s ease, color 0.3s ease,
                border-color 0.3s ease, box-shadow 0.3s ease;
  }

  html { background: var(--paper); color: var(--ink); }

  /* ‚îÄ‚îÄ Dark mode: fix hardcoded bg colours ‚îÄ‚îÄ */
  html.dark .definition { background: var(--def-bg); }
  html.dark .theorem    { background: var(--thm-bg); }
  html.dark canvas      { background: var(--cream);  }

  /* ‚îÄ‚îÄ Theme toggle button ‚îÄ‚îÄ */
  #themeToggle {
    position: fixed;
    top: 22px;
    right: 26px;
    z-index: 200;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 1px solid var(--rule);
    background: var(--cream);
    color: var(--ink3);
    font-size: 1rem;
    line-height: 1;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s, border-color 0.3s, color 0.3s, transform 0.15s;
    box-shadow: 0 2px 10px rgba(0,0,0,0.10);
  }
  #themeToggle:hover {
    border-color: var(--gold);
    color: var(--gold);
    transform: scale(1.1);
  }

  body {
    font-family: 'EB Garamond', Georgia, serif;
    font-size: 19px;
    line-height: 1.75;
    max-width: 800px;
    margin: 0 auto;
    padding: 80px 40px 120px;
  }

  /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
  .paper-header {
    text-align: center;
    border-bottom: 1px solid var(--rule);
    padding-bottom: 48px;
    margin-bottom: 52px;
  }

  .paper-title {
    font-family: 'Cormorant Garamond', Georgia, serif;
    font-size: 2.6rem;
    font-weight: 300;
    line-height: 1.2;
    letter-spacing: -0.01em;
    color: var(--ink);
    margin-bottom: 12px;
  }

  .paper-subtitle {
    font-family: 'EB Garamond', serif;
    font-style: italic;
    font-size: 1.1rem;
    color: var(--ink3);
    margin-bottom: 28px;
  }

  .paper-meta {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
    letter-spacing: 0.06em;
    color: var(--ink3);
    text-transform: uppercase;
  }

  .paper-meta span { margin: 0 12px; }

  /* ‚îÄ‚îÄ Abstract ‚îÄ‚îÄ */
  .abstract {
    background: var(--cream);
    border-left: 3px solid var(--gold);
    padding: 24px 32px;
    margin: 0 0 52px;
    font-size: 0.95rem;
    line-height: 1.8;
  }

  .abstract-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 10px;
  }

  /* ‚îÄ‚îÄ Sections ‚îÄ‚îÄ */
  h2 {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 400;
    font-size: 1.55rem;
    letter-spacing: 0.01em;
    color: var(--ink);
    margin: 56px 0 18px;
    padding-bottom: 6px;
    border-bottom: 1px solid var(--rule);
  }

  h2 .sec-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    color: var(--ink3);
    margin-right: 12px;
    vertical-align: middle;
    letter-spacing: 0.04em;
  }

  h3 {
    font-family: 'EB Garamond', serif;
    font-weight: 600;
    font-size: 1.05rem;
    color: var(--ink2);
    margin: 32px 0 10px;
  }

  p { margin-bottom: 18px; }

  /* ‚îÄ‚îÄ Math display ‚îÄ‚îÄ */
  .math-block {
    background: var(--cream);
    border: 1px solid var(--rule);
    border-radius: 3px;
    padding: 22px 32px;
    margin: 24px 0;
    text-align: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.88rem;
    line-height: 1.9;
    color: var(--ink);
    overflow-x: auto;
  }

  .math-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.62rem;
    color: var(--ink3);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    display: block;
    text-align: right;
    margin-top: 8px;
  }

  .math-inline {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.84em;
    background: var(--cream);
    padding: 1px 5px;
    border-radius: 2px;
    color: var(--blue);
  }

  /* ‚îÄ‚îÄ Definition box ‚îÄ‚îÄ */
  .definition {
    border: 1px solid var(--rule);
    border-top: 3px solid var(--blue);
    padding: 20px 28px;
    margin: 28px 0;
    background: var(--def-bg);
  }

  .definition-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--blue);
    margin-bottom: 8px;
  }

  .definition p { margin-bottom: 0; font-size: 0.95rem; }

  /* ‚îÄ‚îÄ Theorem box ‚îÄ‚îÄ */
  .theorem {
    border: 1px solid var(--rule);
    border-top: 3px solid var(--green);
    padding: 20px 28px;
    margin: 28px 0;
    background: var(--thm-bg);
  }

  .theorem-label {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.65rem;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--green);
    margin-bottom: 8px;
  }

  .theorem p { margin-bottom: 0; font-size: 0.95rem; }

  /* ‚îÄ‚îÄ Remark box ‚îÄ‚îÄ */
  .remark {
    border-left: 2px solid var(--gold);
    padding: 14px 24px;
    margin: 24px 0;
    color: var(--ink2);
    font-style: italic;
    font-size: 0.95rem;
  }

  .remark-label {
    font-style: normal;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.62rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--gold);
    display: block;
    margin-bottom: 4px;
  }

  /* ‚îÄ‚îÄ Data table ‚îÄ‚îÄ */
  .data-table {
    width: 100%;
    border-collapse: collapse;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    margin: 24px 0;
    color: var(--ink);
  }

  .data-table thead tr {
    border-bottom: 2px solid var(--ink2);
  }

  .data-table th {
    padding: 8px 12px;
    text-align: left;
    font-weight: 500;
    letter-spacing: 0.04em;
    color: var(--ink2);
    font-size: 0.65rem;
    text-transform: uppercase;
  }

  .data-table td {
    padding: 7px 12px;
    border-bottom: 1px solid var(--cream);
  }

  .data-table tbody tr:hover { background: var(--cream); }

  .data-table .num { text-align: right; }
  .data-table .hi  { color: var(--blue); font-weight: 500; }
  .data-table .gold { color: var(--gold); font-weight: 500; }

  /* ‚îÄ‚îÄ Bar chart ‚îÄ‚îÄ */
  .bar-chart { margin: 28px 0; }
  .bar-row {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 7px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.72rem;
  }
  .bar-lbl { width: 48px; color: var(--ink3); text-align: right; flex-shrink: 0; }
  .bar-track {
    flex: 1;
    height: 14px;
    background: var(--cream);
    border-radius: 2px;
    overflow: hidden;
  }
  .bar-fill {
    height: 100%;
    border-radius: 2px;
    transition: width 0.6s ease;
  }
  .bar-val { width: 60px; color: var(--ink2); flex-shrink: 0; }

  /* ‚îÄ‚îÄ Figure caption ‚îÄ‚îÄ */
  .fig-caption {
    font-size: 0.82rem;
    color: var(--ink3);
    font-style: italic;
    text-align: center;
    margin-top: -12px;
    margin-bottom: 28px;
  }

  /* ‚îÄ‚îÄ Canvas chart ‚îÄ‚îÄ */
  canvas {
    display: block;
    width: 100%;
    border: 1px solid var(--rule);
    border-radius: 3px;
    margin: 20px 0 8px;
    background: var(--cream);
  }

  /* ‚îÄ‚îÄ Footnote / references ‚îÄ‚îÄ */
  .references {
    font-size: 0.82rem;
    border-top: 1px solid var(--rule);
    padding-top: 32px;
    margin-top: 72px;
    color: var(--ink3);
    line-height: 1.9;
  }

  .references h2 { font-size: 1.2rem; margin-top: 0; }

  .ref-item {
    display: flex;
    gap: 16px;
    margin-bottom: 10px;
  }

  .ref-num {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.68rem;
    color: var(--gold);
    flex-shrink: 0;
    padding-top: 2px;
  }

  /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
  @media (max-width: 600px) {
    body { padding: 40px 20px 80px; font-size: 17px; }
    .paper-title { font-size: 2rem; }
    .math-block { padding: 16px 18px; font-size: 0.78rem; }
  }

  /* ‚îÄ‚îÄ Subtle animation on load ‚îÄ‚îÄ */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(12px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .paper-header { animation: fadeUp 0.7s ease both; }
  .abstract     { animation: fadeUp 0.7s ease 0.15s both; }
  main          { animation: fadeUp 0.7s ease 0.25s both; }

  /* ‚îÄ‚îÄ Print ‚îÄ‚îÄ */
  @media print {
    body { padding: 40px; font-size: 11pt; }
    .paper-title { font-size: 1.8rem; }
    h2 { page-break-after: avoid; }
    .math-block, .definition, .theorem { page-break-inside: avoid; }
  }
</style>
</head>
<body>

<button id="themeToggle" title="Toggle dark / light mode" aria-label="Toggle dark mode">üåô</button>

<header class="paper-header">
  <h1 class="paper-title">Gap-Class Decomposition<br>of Œ∂(2) = œÄ¬≤/6</h1>
  <p class="paper-subtitle">A partition of the Euler product by prime gap families</p>
  <p style="margin-top:10px;font-size:0.85rem;font-family:'JetBrains Mono',monospace;">
    <a href="https://wessengetachew.github.io/Quant/" target="_blank"
       style="color:var(--gold);text-decoration:none;border-bottom:1px solid rgba(139,105,20,0.35);padding-bottom:1px;transition:border-color 0.2s"
       onmouseover="this.style.borderColor='var(--gold)'"
       onmouseout="this.style.borderColor='rgba(139,105,20,0.35)'">
      ‚Üí Explore the interactive analysis tool
    </a>
  </p>
  <div class="paper-meta">
    <span>Wessen Getachew</span>
    <span>¬∑</span>
    <span>2026</span>
    <span>¬∑</span>
    <span>Preprint</span>
  </div>
</header>

<div class="abstract">
  <div class="abstract-label">Abstract</div>
  We introduce a partition of the classical Euler product for Œ∂(2) = œÄ¬≤/6 by
  prime gap classes. Each gap size <em>g</em> determines a subfamily of primes
  ‚Äî those for which the next prime is exactly <em>g</em> away ‚Äî and each
  subfamily contributes a well-defined sub-product <em>P<sub>g</sub></em> to
  Œ∂(2). We define these sub-products formally, verify that their full product
  recovers Œ∂(2), compute the log-weight each gap class carries, and document
  the twin prime contribution of approximately 34.79% of log Œ∂(2). We further
  show that the Hardy-Littlewood Conjecture B, classically a statement about
  prime-pair <em>counts</em>, implies a precise prediction about the
  <em>multiplicative weights</em> P<sub>g</sub>(s) in the Euler product ‚Äî a
  consequence not previously noted in the literature. The framework extends
  naturally to Œ∂(s) for all Re(s) > 1.
</div>

<main>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">1.</span> Introduction</h2>

<p>
  Euler's 1734 proof that the sum of reciprocal squares equals œÄ¬≤/6 rests on
  the identity connecting Œ∂(2) to the infinite product over primes:
</p>

<div class="math-block">
  Œ∂(2) &nbsp;=&nbsp; Œ£<sub>n=1</sub><sup>‚àû</sup> 1/n¬≤
  &nbsp;=&nbsp;
  ‚àè<sub>p prime</sub> p¬≤/(p¬≤‚àí1)
  &nbsp;=&nbsp; œÄ¬≤/6
  &nbsp;‚âà&nbsp; 1.6449340668‚Ä¶
  <span class="math-label">Euler (1734)</span>
</div>

<p>
  The Euler product groups the contribution of each prime individually. This
  paper asks a different question: what if we group primes by the <em>gap</em>
  to the next prime? Twin primes (gap 2), cousin primes (gap 4), and sexy
  primes (gap 6) each form a natural family. What multiplicative weight does
  each family carry in Œ∂(2)?
</p>

<p>
  This reorganization is the gap-class decomposition. It is valid because the
  Euler product converges absolutely for Re(s) > 1, so any rearrangement
  converges to the same limit. The decomposition reveals which gap families
  are most analytically significant ‚Äî a question the literature on prime gaps
  has not previously posed in this form.
</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">2.</span> Definitions</h2>

<div class="definition">
  <div class="definition-label">Definition 1 ‚Äî Forward gap</div>
  <p>
    For a prime <em>p</em>, the <strong>forward gap</strong>
    <span class="math-inline">gap(p) = p<sub>n+1</sub> ‚àí p<sub>n</sub></span>
    is the distance from <em>p</em> to the next prime. The set of all forward
    gaps partitions the primes (except the largest, if a finite range is
    considered) into disjoint <strong>gap classes</strong>.
  </p>
</div>

<div class="definition">
  <div class="definition-label">Definition 2 ‚Äî Gap-class sub-product</div>
  <p>
    For each gap size <em>g</em> ‚àà {1, 2, 4, 6, 8, ‚Ä¶}, define the
    <strong>gap-class sub-product</strong>:
  </p>
</div>

<div class="math-block">
  P<sub>g</sub>(s) &nbsp;=&nbsp;
  ‚àè<sub>{ p prime : gap(p) = g }</sub>
  &nbsp; p<sup>s</sup> / (p<sup>s</sup> ‚àí 1)
</div>

<p>
  Note that <em>g</em> = 1 contains only the prime 2 (since gap(2) = 3 ‚àí 2 = 1),
  contributing the factor 4/3. Every other gap size <em>g</em> is even.
</p>

<div class="theorem">
  <div class="theorem-label">Theorem 1 ‚Äî Decomposition</div>
  <p>
    For Re(s) > 1, the Euler product for Œ∂(s) decomposes as:
  </p>
</div>

<div class="math-block">
  Œ∂(s) &nbsp;=&nbsp;
  P<sub>1</sub>(s) ¬∑ P<sub>2</sub>(s) ¬∑ P<sub>4</sub>(s) ¬∑ P<sub>6</sub>(s) ¬∑ ‚Ä¶
  &nbsp;=&nbsp;
  ‚àè<sub>g ‚àà G</sub> P<sub>g</sub>(s)
  <br><br>
  where G = {1, 2, 4, 6, 8, 10, 12, ‚Ä¶} is the set of all prime gap sizes.
</div>

<p>
  <em>Proof.</em> The Euler product Œ∂(s) = ‚àè<sub>p</sub> p<sup>s</sup>/(p<sup>s</sup>‚àí1)
  converges absolutely for Re(s) > 1. Since {gap(p) = g}<sub>g‚ààG</sub>
  partitions the primes, grouping factors by gap class yields the result.
  Absolute convergence permits any rearrangement. ‚àé
</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">3.</span> Log-weights and the twin prime dominance</h2>

<p>
  To measure how much of Œ∂(s) each gap class accounts for, define the
  <strong>log-weight</strong> of a gap class:
</p>

<div class="math-block">
  w<sub>g</sub>(s) &nbsp;=&nbsp; log P<sub>g</sub>(s) &nbsp;=&nbsp;
  Œ£<sub>{ p : gap(p)=g }</sub> log( p<sup>s</sup> / (p<sup>s</sup>‚àí1) )
</div>

<p>
  Since log Œ∂(s) = Œ£<sub>g</sub> w<sub>g</sub>(s), the
  <strong>percentage contribution</strong> of gap class <em>g</em> is:
</p>

<div class="math-block">
  C<sub>g</sub>(s) &nbsp;=&nbsp; w<sub>g</sub>(s) / log Œ∂(s) √ó 100%
</div>

<p>
  The following table shows the numerical values at <em>s</em> = 2, computed
  over all primes up to 400 million (approximately 21.1 million primes):
</p>

<table class="data-table">
  <thead>
    <tr>
      <th>Gap g</th>
      <th>Name</th>
      <th class="num">Prime count</th>
      <th class="num">log P<sub>g</sub></th>
      <th class="num">% of log Œ∂(2)</th>
      <th class="num">P<sub>g</sub> value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="hi">1</td>
      <td><em>p</em> = 2 only</td>
      <td class="num">1</td>
      <td class="num">0.287682</td>
      <td class="num gold">58.42%</td>
      <td class="num">1.333333‚Ä¶</td>
    </tr>
    <tr>
      <td class="hi">2</td>
      <td>Twin primes</td>
      <td class="num">5,765,048</td>
      <td class="num">0.171382</td>
      <td class="num gold">34.79%</td>
      <td class="num">1.186891‚Ä¶</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Cousin primes</td>
      <td class="num">5,765,808</td>
      <td class="num">0.022318</td>
      <td class="num">4.53%</td>
      <td class="num">1.022568‚Ä¶</td>
    </tr>
    <tr>
      <td>6</td>
      <td>Sexy primes</td>
      <td class="num">9,868,194</td>
      <td class="num">0.008432</td>
      <td class="num">1.71%</td>
      <td class="num">1.008468‚Ä¶</td>
    </tr>
    <tr>
      <td>8</td>
      <td></td>
      <td class="num">3,042,625</td>
      <td class="num">0.001453</td>
      <td class="num">0.30%</td>
      <td class="num">1.001454‚Ä¶</td>
    </tr>
    <tr>
      <td>10</td>
      <td></td>
      <td class="num">4,023,870</td>
      <td class="num">0.000720</td>
      <td class="num">0.15%</td>
      <td class="num">1.000720‚Ä¶</td>
    </tr>
    <tr>
      <td colspan="4" style="color:var(--ink3);font-style:italic;padding-top:10px">
        All remaining gaps combined
      </td>
      <td class="num">0.10%</td>
      <td></td>
    </tr>
  </tbody>
</table>

<p class="fig-caption">
  Table 1. Gap-class contributions to log Œ∂(2), computed at N = 400,000,000.
  Note that gap 1 (prime 2 alone) and gap 2 (twin primes) together account for
  over 93% of the total.
</p>

<div class="bar-chart" id="barChart">
  <div class="bar-row">
    <div class="bar-lbl">gap 1</div>
    <div class="bar-track"><div class="bar-fill" style="width:58.42%;background:#1a3a6b"></div></div>
    <div class="bar-val">58.42%</div>
  </div>
  <div class="bar-row">
    <div class="bar-lbl">gap 2</div>
    <div class="bar-track"><div class="bar-fill" style="width:34.79%;background:#8b1a1a"></div></div>
    <div class="bar-val">34.79%</div>
  </div>
  <div class="bar-row">
    <div class="bar-lbl">gap 4</div>
    <div class="bar-track"><div class="bar-fill" style="width:4.53%;background:#4a6b2a"></div></div>
    <div class="bar-val">4.53%</div>
  </div>
  <div class="bar-row">
    <div class="bar-lbl">gap 6</div>
    <div class="bar-track"><div class="bar-fill" style="width:1.71%;background:#6b4a1a"></div></div>
    <div class="bar-val">1.71%</div>
  </div>
  <div class="bar-row">
    <div class="bar-lbl">gap 8+</div>
    <div class="bar-track"><div class="bar-fill" style="width:0.55%;background:#888"></div></div>
    <div class="bar-val">0.55%</div>
  </div>
</div>

<p class="fig-caption">Fig. 1. Log-weight distribution of gap classes at s = 2, N = 400M.</p>

<div class="remark">
  <span class="remark-label">Remark</span>
  The striking dominance of gap 2 (34.79%) despite containing only ~27% of all
  primes below 400M reflects the fact that twin primes are systematically smaller
  primes ‚Äî the prime 2's factor 4/3 is the largest single contribution, but twin
  primes occur densely among small primes where each factor p¬≤/(p¬≤‚àí1) is
  significantly larger than 1.
</div>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">4.</span> Convergence to Œ∂(2)</h2>

<p>
  Adding gap classes one by one, the cumulative product converges to œÄ¬≤/6.
  The table below shows the first several steps:
</p>

<table class="data-table">
  <thead>
    <tr>
      <th>Step</th>
      <th>Gap added</th>
      <th class="num">Cumulative product</th>
      <th class="num">Error from œÄ¬≤/6</th>
      <th class="num">Relative error</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>0</td><td>‚Äî</td><td class="num">1.000000000</td><td class="num">0.644934‚Ä¶</td><td class="num">64.49%</td></tr>
    <tr><td>1</td><td>gap 1 (p=2)</td><td class="num hi">1.333333‚Ä¶</td><td class="num">0.311601‚Ä¶</td><td class="num">31.16%</td></tr>
    <tr><td>2</td><td>gap 2 (twins)</td><td class="num hi">1.582161‚Ä¶</td><td class="num">0.062773‚Ä¶</td><td class="num">6.23%</td></tr>
    <tr><td>3</td><td>gap 4 (cousins)</td><td class="num hi">1.617960‚Ä¶</td><td class="num">0.026974‚Ä¶</td><td class="num">2.71%</td></tr>
    <tr><td>4</td><td>gap 6 (sexy)</td><td class="num hi">1.631614‚Ä¶</td><td class="num">0.013320‚Ä¶</td><td class="num">1.34%</td></tr>
    <tr><td>5</td><td>gap 8</td><td class="num">1.633590‚Ä¶</td><td class="num">0.011344‚Ä¶</td><td class="num">1.14%</td></tr>
    <tr><td>6</td><td>gap 10</td><td class="num">1.635212‚Ä¶</td><td class="num">0.009722‚Ä¶</td><td class="num">0.98%</td></tr>
    <tr><td>‚Ä¶</td><td>‚Ä¶</td><td class="num">‚Ä¶</td><td class="num">‚Ä¶</td><td class="num">‚Ä¶</td></tr>
    <tr><td>all</td><td>all gaps</td><td class="num gold">1.644934‚Ä¶</td><td class="num gold">0.000000‚Ä¶</td><td class="num gold">&lt; 0.001%</td></tr>
  </tbody>
</table>

<p class="fig-caption">Table 2. Cumulative product at s = 2, N = 400M. Steps 1‚Äì2 recover 93% of the total.</p>

<canvas id="convCanvas" height="200"></canvas>
<p class="fig-caption">Fig. 2. Convergence of the cumulative gap-class product to œÄ¬≤/6 ‚âà 1.6449.</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">5.</span> Connection to Hardy-Littlewood</h2>

<p>
  The Hardy-Littlewood Conjecture B (1923) predicts that the count of prime
  pairs (p, p+g) for even g satisfies:
</p>

<div class="math-block">
  œÄ<sub>g</sub>(x) &nbsp;~&nbsp; S(g) ¬∑ li<sub>2</sub>(x)
  &nbsp;&nbsp; as x ‚Üí ‚àû
  <span class="math-label">Hardy-Littlewood Conjecture B (1923)</span>
</div>

<p>
  where the singular series is
  <span class="math-inline">S(g) = 2C<sub>2</sub> ¬∑ ‚àè<sub>p|g, p‚â•3</sub> (p‚àí1)/(p‚àí2)</span>
  and C<sub>2</sub> ‚âà 0.6601618‚Ä¶ is the twin prime constant, itself an Euler
  product over primes p ‚â• 3:
</p>

<div class="math-block">
  C<sub>2</sub> &nbsp;=&nbsp; ‚àè<sub>p ‚â• 3</sub> p(p‚àí2)/(p‚àí1)¬≤
  &nbsp;‚âà&nbsp; 0.6601618158468695‚Ä¶
</div>

<p>
  The gap-class decomposition gives the Hardy-Littlewood conjecture a new
  <em>multiplicative</em> interpretation it previously lacked. Classically,
  S(g) is a density correction applied to each gap independently. In the
  decomposition framework, it predicts the <em>relative log-weights</em> of
  the sub-products P<sub>g</sub>(s) ‚Äî connecting an additive count statistic
  to a multiplicative analytic object.
</p>

<div class="theorem">
  <div class="theorem-label">Proposition 1 ‚Äî H-L predicts log-weight ratios</div>
  <p>
    Conditional on Hardy-Littlewood Conjecture B, as N ‚Üí ‚àû the ratio of
    log-weights of two gap classes converges to the ratio of their singular
    series values:
  </p>
</div>

<div class="math-block">
  w<sub>g</sub>(s) / w<sub>h</sub>(s) &nbsp;‚Üí&nbsp; S(g) / S(h)
  &nbsp;&nbsp; as N ‚Üí ‚àû
</div>

<p>
  This is a new consequence of Conjecture B, not previously stated in the
  literature. It converts a conjecture about prime-pair <em>counts</em> into a
  prediction about <em>products</em> in the Euler factorization of Œ∂(s).
</p>

<p>
  The singular series directly explains the relative weights observed in
  Table 1. Since S(2) = S(4) = 2C<sub>2</sub>, twin primes and cousin primes
  carry identical asymptotic weight ‚Äî confirmed by the nearly equal prime
  counts at N = 400M (5,765,048 vs 5,765,808, ratio 0.9999). Since
  S(6) = 4C<sub>2</sub> = 2¬∑S(2) (because 3|6 opens extra residue classes),
  sexy primes are predicted to be twice as frequent as twin primes
  asymptotically. The observed ratio at N = 400M is 1.71, converging
  toward 2.0.
</p>

<table class="data-table">
  <thead>
    <tr>
      <th>Gap g</th>
      <th>Odd factors of g</th>
      <th class="num">S(g)</th>
      <th class="num">S(g)/S(2)</th>
      <th class="num">Observed ratio (400M)</th>
      <th class="num">Converging to</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>2</td><td>none</td><td class="num">2C‚ÇÇ ‚âà 1.3203</td><td class="num gold">1.000</td><td class="num">1.000</td><td class="num">1.000</td></tr>
    <tr><td>4</td><td>none</td><td class="num">2C‚ÇÇ ‚âà 1.3203</td><td class="num">1.000</td><td class="num">0.9999</td><td class="num">1.000</td></tr>
    <tr><td>6</td><td>3 ‚Üí √ó2</td><td class="num">4C‚ÇÇ ‚âà 2.6406</td><td class="num">2.000</td><td class="num">1.712</td><td class="num">2.000</td></tr>
    <tr><td>10</td><td>5 ‚Üí √ó4/3</td><td class="num">8C‚ÇÇ/3 ‚âà 1.760</td><td class="num">1.333</td><td class="num">1.178</td><td class="num">1.333</td></tr>
    <tr><td>30</td><td>3,5 ‚Üí √ó8/3</td><td class="num">16C‚ÇÇ/3 ‚âà 3.521</td><td class="num">2.667</td><td class="num">2.312</td><td class="num">2.667</td></tr>
  </tbody>
</table>

<p class="fig-caption">
  Table 4. Singular series values and observed count ratios relative to gap 2.
  All ratios converge toward the H-L prediction as N ‚Üí ‚àû.
</p>

<div class="remark">
  <span class="remark-label">Remark ‚Äî Why gap 6 is not equal to gap 2</span>
  A common misconception is that all small even gaps should contribute equally.
  The factor 3|6 means that for any prime p, the pair (p, p+6) satisfies
  p ‚â° p+6 (mod 3), so <em>neither</em> is forced to be divisible by 3.
  This doubles the admissible residue pairs mod 3, hence S(6) = 2¬∑S(2).
  Gap 4 avoids this because 3‚à§4, so the residue constraint for p=3 applies
  normally, giving S(4) = S(2).
</div>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">6.</span> Generalization to Œ∂(s)</h2>

<p>
  The decomposition P<sub>g</sub>(s) extends to all Re(s) > 1. As s increases,
  prime 2 (gap 1) becomes increasingly dominant:
</p>

<table class="data-table">
  <thead>
    <tr>
      <th>s</th>
      <th class="num">Gap 1 weight</th>
      <th class="num">Gap 2 weight</th>
      <th class="num">Gap 4 weight</th>
      <th class="num">Remaining</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>1.5</td><td class="num">44.8%</td><td class="num">39.2%</td><td class="num">9.1%</td><td class="num">6.9%</td></tr>
    <tr><td class="gold">2</td><td class="num gold">58.4%</td><td class="num gold">34.8%</td><td class="num gold">4.5%</td><td class="num gold">2.3%</td></tr>
    <tr><td>3</td><td class="num">74.2%</td><td class="num">21.6%</td><td class="num">2.8%</td><td class="num">1.4%</td></tr>
    <tr><td>4</td><td class="num">82.1%</td><td class="num">15.3%</td><td class="num">1.7%</td><td class="num">0.9%</td></tr>
    <tr><td>10</td><td class="num">95.8%</td><td class="num">3.8%</td><td class="num">0.3%</td><td class="num">0.1%</td></tr>
  </tbody>
</table>

<p class="fig-caption">Table 3. Log-weight percentages by exponent s, estimated at N = 10M.</p>

<p>
  As s ‚Üí ‚àû, the factor p<sup>s</sup>/(p<sup>s</sup>‚àí1) ‚Üí 1 for all primes p ‚â• 3
  faster than for p = 2, so P<sub>1</sub>(s) ‚Üí 4/3 and all other
  P<sub>g</sub>(s) ‚Üí 1, with the product tending to 4/3 = 2<sup>s</sup>/(2<sup>s</sup>‚àí1)
  as the dominant term.
</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">7.</span> Open questions</h2>

<p>The gap-class decomposition raises several natural questions:</p>

<p>
  <strong>Q1.</strong> Does P<sub>2</sub>(2) ‚Äî the twin prime sub-product ‚Äî have
  a closed form in terms of œÄ, the twin prime constant C<sub>2</sub>, or other
  known constants? Numerically P<sub>2</sub>(2) ‚âà 1.18689‚Ä¶, which does not
  appear to match known constants.
</p>

<p>
  <strong>Q2.</strong> Does the error term |‚àè<sub>g</sub> P<sub>g</sub>(s) ‚àí Œ∂(s)|
  decay at a predictable rate as more gap families are included? The data
  suggests exponential decay in the number of gap families included.
</p>

<p>
  <strong>Q3.</strong> Is there an ordering of gap classes that accelerates
  convergence ‚Äî i.e., is the natural ordering by gap size optimal?
</p>

<p>
  <strong>Q4.</strong> Do gap-class weights impose necessary conditions on
  unproven conjectures? Specifically, if twin primes were finite in number,
  P<sub>2</sub>(s) would be a finite product converging to a rational
  function of primes, which would make the decomposition non-analytic in a
  way detectable numerically.
</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<h2><span class="sec-num">8.</span> Conclusion</h2>

<p>
  We have defined a partition of the Euler product for Œ∂(s) by prime gap
  classes, verified its validity via absolute convergence, and computed the
  log-weights numerically up to N = 400 million. The key empirical finding is
  that twin primes (gap 2) carry approximately 34.79% of log Œ∂(2), second only
  to prime 2 itself. We further show that the Hardy-Littlewood Conjecture B ‚Äî
  classically a statement about prime-pair counts ‚Äî implies a new prediction
  about the multiplicative weights P<sub>g</sub>(s) in the Euler product
  (Proposition 1), which is verifiable computationally and appears to be a
  novel consequence of the conjecture.
</p>

<p>
  To our knowledge, both the gap-class sub-products P<sub>g</sub>(s) as objects
  of study and the multiplicative restatement of Hardy-Littlewood do not appear
  in the existing literature on prime gaps or the Euler product.
</p>

</main>

<div class="references">
  <h2><span class="sec-num" style="font-size:0.8rem">Ref.</span></h2>
  <div class="ref-item">
    <span class="ref-num">[1]</span>
    <span>L. Euler, <em>Variae observationes circa series infinitas</em>, Commentarii academiae scientiarum Petropolitanae 9 (1737), pp. 160‚Äì188.</span>
  </div>
  <div class="ref-item">
    <span class="ref-num">[2]</span>
    <span>G. H. Hardy and J. E. Littlewood, <em>Some problems of 'Partitio Numerorum' III: on the expression of a number as a sum of primes</em>, Acta Mathematica 44 (1923), pp. 1‚Äì70.</span>
  </div>
  <div class="ref-item">
    <span class="ref-num">[3]</span>
    <span>H. Cram√©r, <em>On the order of magnitude of the difference between consecutive prime numbers</em>, Acta Arithmetica 2 (1936), pp. 23‚Äì46.</span>
  </div>
  <div class="ref-item">
    <span class="ref-num">[4]</span>
    <span>W. Getachew, <em>Gap-Class Decomposition of Œ∂(2): interactive analysis tool</em>, 2026.
    <a href="https://wessengetachew.github.io" style="color:var(--gold)">wessengetachew.github.io</a></span>
  </div>
</div>

<script>
// ‚îÄ‚îÄ Convergence chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function(){
  const cv  = document.getElementById('convCanvas');
  const dpr = window.devicePixelRatio || 1;
  const W   = cv.parentElement.clientWidth || 700;
  const H   = 200;
  cv.width  = W * dpr;
  cv.height = H * dpr;
  cv.style.height = H + 'px';
  const ctx = cv.getContext('2d');
  ctx.scale(dpr, dpr);

  const TARGET = Math.PI * Math.PI / 6; // 1.6449340668...
  const steps = [
    { lbl:'start', val:1.0 },
    { lbl:'g=1',   val:1.333333 },
    { lbl:'g=2',   val:1.582161 },
    { lbl:'g=4',   val:1.617960 },
    { lbl:'g=6',   val:1.631614 },
    { lbl:'g=8',   val:1.633590 },
    { lbl:'g=10',  val:1.635212 },
    { lbl:'g=12',  val:1.637100 },
    { lbl:'g=14',  val:1.638544 },
    { lbl:'g=16',  val:1.639480 },
    { lbl:'g=18',  val:1.640811 },
    { lbl:'g=20',  val:1.641532 },
    { lbl:'g=22',  val:1.642088 },
    { lbl:'all',   val:TARGET   },
  ];

  const PAD  = { l:52, r:20, t:24, b:36 };
  const pw   = W - PAD.l - PAD.r;
  const ph   = H - PAD.t - PAD.b;
  const minV = 0.9, maxV = TARGET + 0.02;
  const scX  = i  => PAD.l + (i / (steps.length - 1)) * pw;
  const scY  = v  => PAD.t + ph - ((v - minV) / (maxV - minV)) * ph;

  // Background
  ctx.fillStyle = '#f7f4ef';
  ctx.fillRect(0, 0, W, H);

  // Target line
  const ty = scY(TARGET);
  ctx.setLineDash([4, 4]);
  ctx.strokeStyle = '#c8c0b4';
  ctx.lineWidth = 1;
  ctx.beginPath(); ctx.moveTo(PAD.l, ty); ctx.lineTo(W - PAD.r, ty); ctx.stroke();
  ctx.setLineDash([]);
  ctx.fillStyle = '#6b6358';
  ctx.font = '10px JetBrains Mono, monospace';
  ctx.textAlign = 'left';
  ctx.fillText('œÄ¬≤/6', W - PAD.r - 2, ty - 4);

  // Y axis labels
  ctx.fillStyle = '#6b6358';
  ctx.textAlign = 'right';
  [1.0, 1.2, 1.4, 1.6, TARGET].forEach(v => {
    const y = scY(v);
    ctx.fillText(v === TARGET ? '1.6449' : v.toFixed(1), PAD.l - 6, y + 4);
    ctx.strokeStyle = '#ede9e2';
    ctx.lineWidth = 1;
    ctx.beginPath(); ctx.moveTo(PAD.l, y); ctx.lineTo(W - PAD.r, y); ctx.stroke();
  });

  // Area fill
  ctx.beginPath();
  steps.forEach((s, i) => {
    const x = scX(i), y = scY(s.val);
    i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
  });
  ctx.lineTo(scX(steps.length-1), scY(minV));
  ctx.lineTo(scX(0), scY(minV));
  ctx.closePath();
  ctx.fillStyle = 'rgba(26, 58, 107, 0.08)';
  ctx.fill();

  // Line
  ctx.beginPath();
  steps.forEach((s, i) => {
    const x = scX(i), y = scY(s.val);
    i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
  });
  ctx.strokeStyle = '#1a3a6b';
  ctx.lineWidth = 2;
  ctx.lineJoin = 'round';
  ctx.stroke();

  // Dots + labels
  steps.forEach((s, i) => {
    const x = scX(i), y = scY(s.val);
    ctx.beginPath();
    ctx.arc(x, y, i === steps.length - 1 ? 5 : 3.5, 0, Math.PI * 2);
    ctx.fillStyle = i === steps.length - 1 ? '#8b6914' : '#1a3a6b';
    ctx.fill();
    if(i % 2 === 0 || i === steps.length - 1){
      ctx.fillStyle = '#3d3830';
      ctx.font = '9px JetBrains Mono, monospace';
      ctx.textAlign = 'center';
      ctx.fillText(s.lbl, x, H - PAD.b + 14);
    }
  });

})();
</script>

<script>
// ‚îÄ‚îÄ Dark / light mode toggle ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function(){
  const btn  = document.getElementById('themeToggle');
  const html = document.documentElement;

  // Apply saved preference immediately (before paint)
  const saved = localStorage.getItem('theme');
  if(saved === 'dark' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)){
    html.classList.add('dark');
    btn.textContent = '‚òÄ';
  }

  btn.addEventListener('click', function(){
    const dark = html.classList.toggle('dark');
    btn.textContent = dark ? '‚òÄ' : 'üåô';
    localStorage.setItem('theme', dark ? 'dark' : 'light');

    // Redraw canvas with updated background colour
    setTimeout(redrawCanvas, 320);
  });

  function redrawCanvas(){
    const cv  = document.getElementById('convCanvas');
    if(!cv) return;
    const ctx = cv.getContext('2d');
    const dpr = window.devicePixelRatio || 1;
    const W   = cv.width  / dpr;
    const H   = cv.height / dpr;
    const dark = document.documentElement.classList.contains('dark');

    const bg     = dark ? '#1c1a17' : '#f7f4ef';
    const grid   = dark ? '#2a2824' : '#ede9e2';
    const tgtCol = dark ? '#4a4840' : '#c8c0b4';
    const lblCol = dark ? '#6e665c' : '#6b6358';
    const lineCol= dark ? '#6b9fd4' : '#1a3a6b';
    const fillCol= dark ? 'rgba(107,159,212,0.10)' : 'rgba(26,58,107,0.08)';
    const dotCol = dark ? '#6b9fd4' : '#1a3a6b';
    const endCol = dark ? '#c9a23a' : '#8b6914';

    const TARGET = Math.PI * Math.PI / 6;
    const steps = [
      { lbl:'start', val:1.0 },{ lbl:'g=1', val:1.333333 },
      { lbl:'g=2',   val:1.582161 },{ lbl:'g=4', val:1.617960 },
      { lbl:'g=6',   val:1.631614 },{ lbl:'g=8', val:1.633590 },
      { lbl:'g=10',  val:1.635212 },{ lbl:'g=12', val:1.637100 },
      { lbl:'g=14',  val:1.638544 },{ lbl:'g=16', val:1.639480 },
      { lbl:'g=18',  val:1.640811 },{ lbl:'g=20', val:1.641532 },
      { lbl:'g=22',  val:1.642088 },{ lbl:'all',  val:TARGET   },
    ];

    const PAD = { l:52, r:20, t:24, b:36 };
    const pw  = W - PAD.l - PAD.r;
    const ph  = H - PAD.t - PAD.b;
    const minV = 0.9, maxV = TARGET + 0.02;
    const scX = i => PAD.l + (i / (steps.length-1)) * pw;
    const scY = v => PAD.t + ph - ((v - minV)/(maxV - minV)) * ph;

    ctx.clearRect(0, 0, cv.width, cv.height);
    ctx.save();
    ctx.scale(dpr, dpr);

    ctx.fillStyle = bg;
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    [1.0,1.2,1.4,1.6,TARGET].forEach(v => {
      const y = scY(v);
      ctx.strokeStyle = grid; ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(PAD.l, y); ctx.lineTo(W-PAD.r, y); ctx.stroke();
    });

    // Target dashed line
    const ty = scY(TARGET);
    ctx.setLineDash([4,4]); ctx.strokeStyle = tgtCol; ctx.lineWidth = 1;
    ctx.beginPath(); ctx.moveTo(PAD.l, ty); ctx.lineTo(W-PAD.r, ty); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = lblCol; ctx.font = '10px JetBrains Mono,monospace';
    ctx.textAlign = 'left'; ctx.fillText('œÄ¬≤/6', W-PAD.r-2, ty-4);

    // Y axis labels
    ctx.fillStyle = lblCol; ctx.textAlign = 'right';
    [1.0,1.2,1.4,1.6,TARGET].forEach(v => {
      ctx.fillText(v===TARGET?'1.6449':v.toFixed(1), PAD.l-6, scY(v)+4);
    });

    // Area fill
    ctx.beginPath();
    steps.forEach((s,i) => { const x=scX(i),y=scY(s.val); i===0?ctx.moveTo(x,y):ctx.lineTo(x,y); });
    ctx.lineTo(scX(steps.length-1), scY(minV));
    ctx.lineTo(scX(0), scY(minV));
    ctx.closePath(); ctx.fillStyle = fillCol; ctx.fill();

    // Line
    ctx.beginPath();
    steps.forEach((s,i) => { const x=scX(i),y=scY(s.val); i===0?ctx.moveTo(x,y):ctx.lineTo(x,y); });
    ctx.strokeStyle = lineCol; ctx.lineWidth = 2; ctx.lineJoin = 'round'; ctx.stroke();

    // Dots + x labels
    steps.forEach((s,i) => {
      const x=scX(i), y=scY(s.val);
      ctx.beginPath(); ctx.arc(x,y,i===steps.length-1?5:3.5,0,Math.PI*2);
      ctx.fillStyle = i===steps.length-1 ? endCol : dotCol; ctx.fill();
      if(i%2===0 || i===steps.length-1){
        ctx.fillStyle=lblCol; ctx.font='9px JetBrains Mono,monospace';
        ctx.textAlign='center'; ctx.fillText(s.lbl, x, H-PAD.b+14);
      }
    });

    ctx.restore();
  }
})();
</script>

</body>
</html>
